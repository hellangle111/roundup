<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Writing Activity - Daily Routine</title>

<style>
 body {
   background: #f4fff6;
   font-family: "Comic Sans MS", Arial, sans-serif;
   padding: 20px;
 }

 h1 {
   text-align: center;
   color: #24a19c;
 }

 h3 {
   text-align: center;
   color: #444;
 }

 textarea {
   width: 100%;
   height: 220px;
   padding: 12px;
   font-size: 18px;
   border: 3px dashed #6ac47e;
   border-radius: 12px;
   resize: none;
 }

 .btn {
   margin-top: 15px;
   width: 100%;
   font-size: 20px;
   padding: 10px;
   background: #ffdd57;
   border: none;
   border-radius: 10px;
   cursor: pointer;
 }

 .result {
   margin-top: 10px;
   padding: 10px;
   border-radius: 10px;
   font-size: 18px;
 }

 .ok { background: #d1fae5; color: #065f46; }
 .bad { background: #fee2e2; color: #991b1b; }
 .neutral { background: #e0e7ff; color: #4338ca; }

 .preview {
   margin-top: 15px;
   padding: 12px;
   background: #fff;
   border-radius: 10px;
   border: 2px solid #ddd;
   font-size: 18px;
   line-height: 1.5;
 }

 .wrong-word {
   background: #fecaca;
   color: #7f1d1d;
   padding: 2px 4px;
   border-radius: 4px;
 }
</style>
</head>

<body>

<h1>Writing Activity</h1>
<h3>Write about your daily routine (at least 35 words)</h3>
<div id="wordResult" style="width:30%" class="result neutral"></div>
<textarea id="text"
 oninput="liveCount()"
 placeholder="Example: I get up at 7. I brush my teeth. I go to school at 8..."></textarea>

<button class="btn" onclick="check()">Check My Writing</button>


<div id="tenseResult" class="result neutral"></div>

<div id="preview" class="preview"></div>

<script>
const pastWords = [
 "went","ate","did","watched","played","slept","had","studied","walked","read"
];

const futureWords = ["will"];

const continuousMarkers = ["am","is","are"];

function liveCount() {
 const text = document.getElementById("text").value.trim();
 const words = text.split(/\s+/).filter(w => w);
 const box = document.getElementById("wordResult");

 box.textContent = `Words: ${words.length}`;
 box.className = words.length < 35 ? "result bad" : "result ok";
}

function check() {
 const text = document.getElementById("text").value.trim();
 const lower = text.toLowerCase();
 let words = text.split(/\s+/);

 let errorCount = 0;

 let highlighted = words.map((w, i) => {
   let clean = w.toLowerCase().replace(/[^a-z]/g,"");

   // past tense
   if (pastWords.includes(clean)) {
     errorCount++;
     return `<span class="wrong-word">${w}</span>`;
   }

   // future
   if (clean === "will") {
     errorCount++;
     return `<span class="wrong-word">${w}</span>`;
   }

   // continuous: am/is/are + ing
   if (continuousMarkers.includes(clean) && words[i+1]?.toLowerCase().endsWith("ing")) {
     errorCount++;
     return `<span class="wrong-word">${w}</span>`;
   }

   if (clean.endsWith("ing")) {
     errorCount++;
     return `<span class="wrong-word">${w}</span>`;
   }

   return w;
 });

 document.getElementById("preview").innerHTML =
   "<strong>Your text (checked):</strong><br>" + highlighted.join(" ");

 const tenseBox = document.getElementById("tenseResult");

 if (errorCount === 0) {
   tenseBox.textContent = "Excellent! You are using simple present tense correctly üëç";
   tenseBox.className = "result ok";
 } else {
   tenseBox.textContent =
     "Some words are not in simple present tense. Please check the red words.";
   tenseBox.className = "result bad";
 }
}
</script>

</body>
</html>
